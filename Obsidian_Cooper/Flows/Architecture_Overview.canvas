{
	"nodes":[
		{"id":"input","type":"text","text":"## üì• INPUT\n\n**Datos de Entrada:**\n\n- Hist√≥rico de precios (Yahoo Finance)\n- S√≠mbolo: HG=F (Copper Futures)\n- Per√≠odo: 2 a√±os\n- Intervalo: Diario\n\n**Datos Raw:**\n- Open, High, Low, Close\n- Volume\n- Timestamp","x":-600,"y":-150,"width":320,"height":380,"color":"1"},
		{"id":"processing","type":"text","text":"## üîß PROCESSING\n\n**Transformaciones:**\n\n1. **Limpieza:**\n   - Eliminar duplicados\n   - Manejar valores nulos\n   - Ordenar por fecha\n\n2. **Feature Engineering:**\n   - Calcular 24 features\n   - Normalizar datos\n   - Crear variable objetivo\n\n3. **Split:**\n   - Train: 80%\n   - Test: 20%","x":-200,"y":-150,"width":340,"height":450,"color":"2"},
		{"id":"ml_model","type":"text","text":"## ü§ñ MACHINE LEARNING\n\n**K-Nearest Neighbors**\n\n**Hyperparameters:**\n- K = 50 neighbors\n- Weights = distance\n- Metric = euclidean\n\n**Training:**\n- Fit con datos hist√≥ricos\n- Validaci√≥n cruzada 5-fold\n\n**Prediction:**\n- Busca 50 momentos similares\n- Predice comportamiento futuro\n- Genera probabilidades","x":220,"y":-150,"width":340,"height":450,"color":"6"},
		{"id":"evaluation","type":"text","text":"## üìä EVALUATION\n\n**M√©tricas:**\n\n- **Accuracy:** % predicciones correctas\n- **Precision:** Calidad de se√±ales\n- **Recall:** Cobertura de oportunidades\n- **F1-Score:** Balance Precision/Recall\n\n**Validation:**\n- Test set performance\n- Cross-validation scores\n- Confusion matrix","x":640,"y":-150,"width":340,"height":420,"color":"3"},
		{"id":"signal","type":"text","text":"## üéØ SIGNAL GENERATION\n\n**Output del Modelo:**\n\n**3 Clases:**\n- üìà COMPRA (1): Subida esperada > 2%\n- ‚è∏Ô∏è HOLD (0): Movimiento estable\n- üìâ VENTA (-1): Bajada esperada > 2%\n\n**Confianza:**\n- Probabilidad de la clase predicha\n- Umbral m√≠nimo: 70%\n\n**Recomendaci√≥n:**\n- EJECUTAR si confianza >= 70%\n- ESPERAR si confianza < 70%","x":1060,"y":-150,"width":360,"height":480,"color":"5"},
		{"id":"output","type":"text","text":"## üì§ OUTPUT\n\n**Formatos de Salida:**\n\n**1. Terminal (CLI):**\n- Tablas formateadas\n- Colores por se√±al\n- M√©tricas detalladas\n\n**2. Dashboard Web:**\n- Interfaz Streamlit\n- Gr√°ficos interactivos\n- Actualizaci√≥n en tiempo real\n\n**3. Visualizaciones:**\n- Precio + Indicadores\n- Predicciones hist√≥ricas\n- Matriz de confusi√≥n\n\n**4. Modelo Guardado:**\n- .pkl serializado\n- Logs de operaci√≥n","x":1500,"y":-180,"width":380,"height":540,"color":"4"},
		{"id":"tech_stack","type":"text","text":"## üíª TECH STACK\n\n**Core:**\n- Python 3.8+\n- scikit-learn (ML)\n- pandas (Data)\n- numpy (Numerical)\n\n**Data Sources:**\n- yfinance (Yahoo Finance API)\n- ta (Technical Analysis)\n\n**Visualization:**\n- matplotlib\n- seaborn\n- plotly\n- streamlit\n\n**Utils:**\n- colorama (Terminal colors)\n- tabulate (Tables)\n- logging (Logs)","x":-600,"y":800,"width":380,"height":420,"color":"2"},
		{"id":"architecture","type":"text","text":"## üèóÔ∏è ARQUITECTURA\n\n**Patr√≥n:** Modular + Pipeline\n\n**Capas:**\n1. **Data:** Recolecci√≥n y procesamiento\n2. **Model:** Machine Learning\n3. **Utils:** Herramientas auxiliares\n4. **Config:** Configuraci√≥n centralizada\n5. **App:** Aplicaci√≥n y presentaci√≥n\n\n**Principios:**\n- Separaci√≥n de responsabilidades\n- Reutilizaci√≥n de c√≥digo\n- Configuraci√≥n centralizada\n- Testeable y mantenible","x":-100,"y":800,"width":400,"height":420,"color":"6"},
		{"id":"workflow","type":"text","text":"## üîÑ WORKFLOW\n\n**Pipeline Secuencial:**\n\n1. **Inicializaci√≥n:** Carga config\n2. **Recolecci√≥n:** Descarga datos\n3. **Procesamiento:** Crea features\n4. **Entrenamiento:** Fit KNN\n5. **Evaluaci√≥n:** Valida modelo\n6. **Predicci√≥n:** Genera se√±al\n7. **Visualizaci√≥n:** Presenta resultados\n8. **Persistencia:** Guarda modelo\n\n**Flujo:** Lineal con feedback loops en evaluaci√≥n","x":400,"y":800,"width":400,"height":420,"color":"5"},
		{"id":"decision_system","type":"text","text":"## üß† DECISION SYSTEM\n\n**Algoritmo de Decisi√≥n:**\n\n```\nPara cada momento actual:\n  1. Extraer features (24)\n  2. Normalizar datos\n  3. Buscar K=50 vecinos m√°s similares\n  4. Analizar outcome de esos vecinos\n  5. Calcular probabilidades:\n     - P(COMPRA) = % vecinos que subieron\n     - P(VENTA) = % vecinos que bajaron\n     - P(HOLD) = % vecinos estables\n  6. Seleccionar clase con mayor probabilidad\n  7. Si confianza >= 70%: EJECUTAR\n     Sino: ESPERAR\n```\n\n**Ventaja KNN:**\n- No asume distribuci√≥n de datos\n- Captura patrones complejos\n- Interpretable (vecinos similares)","x":900,"y":800,"width":480,"height":520,"color":"6"},
		{"id":"layer_app","type":"text","text":"## üñ•Ô∏è APPLICATION LAYER\n\n**M√≥dulos:**\n- `main.py` (CLI)\n- `dashboard.py` (Web)\n\n**Responsabilidades:**\n- Orquestaci√≥n del flujo\n- Interfaz de usuario\n- Presentaci√≥n de resultados\n- Logging y monitoreo","x":1080,"y":480,"width":320,"height":280,"color":"5"},
		{"id":"layer_config","type":"text","text":"## ‚öôÔ∏è CONFIG LAYER\n\n**M√≥dulos:**\n- `settings.py`\n\n**Responsabilidades:**\n- Par√°metros del modelo\n- Configuraci√≥n de trading\n- S√≠mbolos y per√≠odos\n- Features a utilizar\n- Umbrales de decisi√≥n","x":660,"y":480,"width":320,"height":280,"color":"4"},
		{"id":"layer_utils","type":"text","text":"## üõ†Ô∏è UTILS LAYER\n\n**M√≥dulos:**\n- `indicators.py`\n- `visualizer.py`\n\n**Responsabilidades:**\n- C√°lculo de indicadores t√©cnicos\n- Generaci√≥n de gr√°ficos\n- Visualizaci√≥n de resultados\n- An√°lisis t√©cnico","x":240,"y":480,"width":320,"height":280,"color":"3"},
		{"id":"layer_model","type":"text","text":"## üß† MODEL LAYER\n\n**M√≥dulos:**\n- `knn_model.py`\n\n**Responsabilidades:**\n- Entrenamiento KNN\n- Predicci√≥n\n- Evaluaci√≥n\n- Persistencia de modelos\n- Cross-validation","x":-180,"y":480,"width":320,"height":280,"color":"6"},
		{"id":"layer_data","type":"text","text":"## üìÅ DATA LAYER\n\n**M√≥dulos:**\n- `data_collector.py`\n- `data_processor.py`\n\n**Responsabilidades:**\n- Conexi√≥n a APIs\n- Transformaci√≥n de datos\n- Validaci√≥n de calidad\n- Generaci√≥n de features","x":-600,"y":480,"width":320,"height":280,"color":"1"}
	],
	"edges":[
		{"id":"e1","fromNode":"input","fromSide":"right","toNode":"processing","toSide":"left"},
		{"id":"e2","fromNode":"processing","fromSide":"right","toNode":"ml_model","toSide":"left"},
		{"id":"e3","fromNode":"ml_model","fromSide":"right","toNode":"evaluation","toSide":"left"},
		{"id":"e4","fromNode":"evaluation","fromSide":"right","toNode":"signal","toSide":"left"},
		{"id":"e5","fromNode":"signal","fromSide":"right","toNode":"output","toSide":"left"},
		{"id":"e6","fromNode":"layer_data","fromSide":"top","toNode":"input","toSide":"bottom","label":"implementa"},
		{"id":"e7","fromNode":"layer_data","fromSide":"top","toNode":"processing","toSide":"bottom","label":"implementa"},
		{"id":"e8","fromNode":"layer_model","fromSide":"top","toNode":"ml_model","toSide":"bottom","label":"implementa"},
		{"id":"e9","fromNode":"layer_utils","fromSide":"top","toNode":"evaluation","toSide":"bottom","label":"soporta"},
		{"id":"e10","fromNode":"layer_config","fromSide":"top","toNode":"signal","toSide":"bottom","label":"configura"},
		{"id":"e11","fromNode":"layer_app","fromSide":"top","toNode":"output","toSide":"bottom","label":"presenta"}
	]
}